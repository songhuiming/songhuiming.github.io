<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>python class (6): python 2 and python 3 class definition with super() &mdash; pydata by Huiming</title>
  <meta name="author" content="shm">






  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="https://songhuiming.github.io/favicon.png" rel="icon">

  <link href="https://songhuiming.github.io/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">

  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="https://songhuiming.github.io/">pydata by Huiming</a></h1>
    <h2>Keep Looking, Don't Settle</h2>
</hgroup>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
        MathJax.Hub.Config({
            config: ["MMLorHTML.js"],
            extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js"],
            jax: ["input/TeX"],
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: false
            },
            TeX: {
                TagSide: "right",
                TagIndent: ".8em",
                MultLineWidth: "85%",
                equationNumbers: {
                   autoNumber: "AMS",
                },
                unicode: {
                   fonts: "STIXGeneral,'Arial Unicode MS'"
                }
            },
            showProcessingMessages: false
        });
</script></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
</ul>

<form class="search" action="/search.html">
    <input type="text" class="search-query" placeholder="Search" name="q" id="s">
</form>

<form action="https://www.google.com/search" method="get">
    <fieldset role="search">
       <input type="hidden" name="q" value="site:songhuiming.github.io" />
       <input class="search" type="text" name="q" results="0" placeholder="Search"/>
    </fieldset>
</form>


<ul class="main-navigation">
    <li><a href="/functions/archives.html">Archives</a></li>
      <li >
        <a href="https://songhuiming.github.io/category/career-growth.html">Career growth</a>
      </li>
      <li >
        <a href="https://songhuiming.github.io/category/linux.html">Linux</a>
      </li>
      <li class="active">
        <a href="https://songhuiming.github.io/category/python.html">Python</a>
      </li>
      <li >
        <a href="https://songhuiming.github.io/category/rthers.html">Rthers</a>
      </li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">python class (6): python 2 and python 3 class definition with super()</h1>
    <p class="meta">
<time datetime="2015-10-01T00:00:00-05:00" pubdate>Thu 01 October 2015</time>    </p>
</header>

  <div class="entry-content"><h2>1. Why need super()</h2>
<p>In a single inheritance case (when you subclass one class only), your new class inherits methods of the base class. This includes <code>__init__</code>. So if you don't define it in your class, you will get the one from the base.</p>
<p>Things start being complicated if you introduce multiple inheritance (subclassing more than one class at a time). This is because if more than one base class has <code>__init__</code>, your class will inherit the first one only.</p>
<p>In such cases, you should really use super if you can, I'll explain why. But not always you can. The problem is that all your base classes must also use it (and their base classes as well -- the whole tree).</p>
<p>If that is the case, then this will also work correctly (in Python 3 but you could rework it into Python 2 -- it also has <code>super</code>):</p>
<div class="highlight"><pre><span></span><code><span class="c1">## python3</span>
<span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">C</span><span class="p">()</span>
<span class="c1">#prints:</span>
<span class="c1">#A</span>
<span class="c1">#B</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">## python2</span>
<span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">C</span><span class="p">()</span>
<span class="c1">#prints:</span>
<span class="c1">#A</span>
<span class="c1">#B</span>
</code></pre></div>

<p>Notice how both base classes use super even though they don't have their own base classes.</p>
<p>What super does is: it calls the method from the next class in MRO (method resolution order). The MRO for C is: (C, A, B, object). You can print <code>C.__mro__</code> to see it.</p>
<p>So, <code>C</code> inherits <code>__init__</code> from A and super in <code>A.__init__</code> calls <code>B.__init__</code> (<code>B</code> follows <code>A</code> in <code>MRO</code>).</p>
<p>So by doing nothing in <code>C</code>, you end up calling both, which is what you want.</p>
<p>Now if you were not using super, you would end up inheriting <code>A.__init__</code> (as before) but this time there's nothing that would call <code>B.__init__</code> for you.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">C</span><span class="p">()</span>  <span class="c1"># output print: A</span>
</code></pre></div>

<p>To fix that you have to define <code>C.__init__</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">A</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">B</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>

<p>The problem with that is that in more complicated MI trees, <code>__init__</code> methods of some classes may end up being called more than once whereas <code>super</code>/<code>MRO</code> guarantee that they're called just once.</p>
<h2>2. How to use super()</h2>
<p><code>super()</code> (without arguments) was introduced in Python 3: <code>super()</code> -&gt; same as <code>super(__class__, self)</code></p>
<p>Python 2 equivalent for new-style classes: <code>super(CurrentClass, self)</code></p>
<p>for old-style classes you can always use:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Classname</span><span class="p">(</span><span class="n">OldStyleParent</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">OldStyleParent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>

<h3>Reference</h3>
<ol>
<li><a href="https://stackoverflow.com/questions/1713038/super-fails-with-error-typeerror-argument-1-must-be-type-not-classobj#">super() fails with error: TypeError “argument 1 must be type, not classobj”</a></li>
<li><a href="https://stackoverflow.com/questions/11179008/python-inheritance-typeerror-object-init-takes-no-parameters">Python inheritance: TypeError: object.<strong>init</strong>() takes no parameters</a></li>
<li><a href="https://stackoverflow.com/questions/10482953/python-extending-with-using-super-python-3-vs-python-2/10483204">Python extending with - using super() python 3 vs python 2</a></li>
<li><a href="https://stackoverflow.com/questions/576169/understanding-python-super-with-init-methods">Understanding Python super() with <strong>init</strong>() methods</a></li>
</ol></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">
        <a href="https://songhuiming.github.io/author/huiming-song.html">Huiming Song</a>
    </span>
  </span>
<time datetime="2015-10-01T00:00:00-05:00" pubdate>Thu 01 October 2015</time>  <span class="categories">
    <a class='category' href='https://songhuiming.github.io/category/python.html'>Python</a>
  </span>
  <span class="categories">
    <a class="category" href="https://songhuiming.github.io/tag/python.html">python</a>  </span>
</p><div class="sharing">
</div>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="https://songhuiming.github.io/pages/2025/02/16/deepseek-v3/">DeepSeek V3</a>
      </li>
      <li class="post">
          <a href="https://songhuiming.github.io/pages/2023/10/01/image-generation-2-latent-diffusion-model-stable-diffusion/">Image Generation 2: Latent Diffusion model / Stable Diffusion</a>
      </li>
      <li class="post">
          <a href="https://songhuiming.github.io/pages/2023/07/04/image-generation-1-diffusion-model/">Image Generation 1: Diffusion model</a>
      </li>
      <li class="post">
          <a href="https://songhuiming.github.io/pages/2023/05/28/gpt-1-gpt-2-gpt-3-instructgpt-chatgpt-and-gpt-4-summary/">GPT-1, GPT-2, GPT-3, InstructGPT / ChatGPT and GPT-4 summary</a>
      </li>
      <li class="post">
          <a href="https://songhuiming.github.io/pages/2021/12/31/recommendation-system-05-bayesian-optimization/">Recommendation System 05 - Bayesian Optimization</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="https://songhuiming.github.io/category/career-growth.html">career growth</a></li>
        <li><a href="https://songhuiming.github.io/category/linux.html">Linux</a></li>
        <li><a href="https://songhuiming.github.io/category/python.html">python</a></li>
        <li><a href="https://songhuiming.github.io/category/rthers.html">Rthers</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="https://songhuiming.github.io/tag/python.html">python</a>,    <a href="https://songhuiming.github.io/tag/ai.html">AI</a>,    <a href="https://songhuiming.github.io/tag/llm.html">LLM</a>,    <a href="https://songhuiming.github.io/tag/aig.html">AIG</a>,    <a href="https://songhuiming.github.io/tag/data-mining.html">data mining</a>,    <a href="https://songhuiming.github.io/tag/sklearn.html">sklearn</a>,    <a href="https://songhuiming.github.io/tag/pytorch.html">pytorch</a>,    <a href="https://songhuiming.github.io/tag/career-growth.html">career growth</a>,    <a href="https://songhuiming.github.io/tag/linux.html">linux</a>,    <a href="https://songhuiming.github.io/tag/deep-learning.html">deep learning</a>,    <a href="https://songhuiming.github.io/tag/leetcode.html">leetcode</a>,    <a href="https://songhuiming.github.io/tag/dynamic-programming.html">dynamic programming</a>,    <a href="https://songhuiming.github.io/tag/flask.html">flask</a>,    <a href="https://songhuiming.github.io/tag/highcharts.html">highcharts</a>,    <a href="https://songhuiming.github.io/tag/sql.html">sql</a>,    <a href="https://songhuiming.github.io/tag/webcrawl.html">webCrawl</a>,    <a href="https://songhuiming.github.io/tag/random-walk.html">random walk</a>,    <a href="https://songhuiming.github.io/tag/multiprocessing.html">multiprocessing</a>,    <a href="https://songhuiming.github.io/tag/data-visualization.html">data visualization</a>,    <a href="https://songhuiming.github.io/tag/numpy.html">numpy</a>,    <a href="https://songhuiming.github.io/tag/tensorflow.html">tensorflow</a>,    <a href="https://songhuiming.github.io/tag/quant.html">quant</a>,    <a href="https://songhuiming.github.io/tag/statsmodels.html">statsmodels</a>,    <a href="https://songhuiming.github.io/tag/pandas.html">pandas</a>,    <a href="https://songhuiming.github.io/tag/docker.html">docker</a>,    <a href="https://songhuiming.github.io/tag/matplotlib.html">matplotlib</a>,    <a href="https://songhuiming.github.io/tag/data-minging.html">data minging</a>,    <a href="https://songhuiming.github.io/tag/remote-access.html">remote access</a>,    <a href="https://songhuiming.github.io/tag/mysql.html">mysql</a>,    <a href="https://songhuiming.github.io/tag/base.html">base</a>,    <a href="https://songhuiming.github.io/tag/tweepy.html">tweepy</a>,    <a href="https://songhuiming.github.io/tag/bokeh.html">bokeh</a>,    <a href="https://songhuiming.github.io/tag/sentiment-analysis.html">sentiment analysis</a>,    <a href="https://songhuiming.github.io/tag/map.html">map</a>,    <a href="https://songhuiming.github.io/tag/apply.html">apply</a>,    <a href="https://songhuiming.github.io/tag/apply_async.html">apply_async</a>,    <a href="https://songhuiming.github.io/tag/git.html">git</a>,    <a href="https://songhuiming.github.io/tag/pyqt.html">PyQt</a>,    <a href="https://songhuiming.github.io/tag/cx_freeze.html">cx_freeze</a>,    <a href="https://songhuiming.github.io/tag/tkinter.html">tkinter</a>,    <a href="https://songhuiming.github.io/tag/pelican.html">pelican</a>,    <a href="https://songhuiming.github.io/tag/spyre.html">spyre</a>,    <a href="https://songhuiming.github.io/tag/shiny.html">shiny</a>,    <a href="https://songhuiming.github.io/tag/r.html">R</a>,    <a href="https://songhuiming.github.io/tag/re.html">re</a>  </section>


    <section>
        <h1>Social</h1>
        <ul>
            <li><a href="https://www.linkedin.com/pub/huiming-song/24/735/349" target="_blank">Linkedin</a></li>
        </ul>
    </section>
    <section>
        <h1>Blogroll</h1>
        <ul>
            <li><a href="http://easysas.blogspot.com/" target="_blank">my old SAS blog</a></li>
        </ul>
    </section>

</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2015&ndash;2025  shm &mdash;
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
  <script src="https://songhuiming.github.io/theme/js/modernizr-2.0.js"></script>
  <script src="https://songhuiming.github.io/theme/js/ender.js"></script>
  <script src="https://songhuiming.github.io/theme/js/octopress.js" type="text/javascript"></script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-65938411-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-65938411-1');
    ga('send', 'pageview');
</script>
  <script type="text/javascript">
    var disqus_shortname = 'songhuiming';
    var disqus_identifier = '/pages/2015/10/01/python-class-6-python-2-and-python-3-class-definition-with-super/';
    var disqus_url = 'https://songhuiming.github.io/pages/2015/10/01/python-class-6-python-2-and-python-3-class-definition-with-super/';
    var disqus_title = 'python class (6): python 2 and python 3 class definition with super()';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = "//" + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
  </script>
</body>
</html>