<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>jupyter and pandas display &mdash; pydata</title>
  <meta name="author" content="shm">






  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="/favicon.png" rel="icon">

  <link href="/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">

  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="/">pydata</a></h1>
    <h2>Keep Looking, Don't Settle</h2>
</hgroup>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
        MathJax.Hub.Config({
            config: ["MMLorHTML.js"],
            extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js"],
            jax: ["input/TeX"],
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: false
            },
            TeX: {
                TagSide: "right",
                TagIndent: ".8em",
                MultLineWidth: "85%",
                equationNumbers: {
                   autoNumber: "AMS",
                },
                unicode: {
                   fonts: "STIXGeneral,'Arial Unicode MS'"
                }
            },
            showProcessingMessages: false
        });
</script></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
</ul>

<form class="search" action="/search.html">
    <input type="text" class="search-query" placeholder="Search" name="q" id="s">
</form>

<form action="https://www.google.com/search" method="get">
    <fieldset role="search">
       <input type="hidden" name="q" value="site:songhuiming.github.io" />
       <input class="search" type="text" name="q" results="0" placeholder="Search"/>
    </fieldset>
</form>


<ul class="main-navigation">
    <li><a href="/functions/archives.html">Archives</a></li>
      <li >
        <a href="/category/linux.html">Linux</a>
      </li>
      <li class="active">
        <a href="/category/python.html">Python</a>
      </li>
      <li >
        <a href="/category/rthers.html">Rthers</a>
      </li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">jupyter and pandas display</h1>
    <p class="meta">
<time datetime="2017-04-02T00:00:00-05:00" pubdate>Sun 02 April 2017</time>    </p>
</header>

  <div class="entry-content"><h3>1. show all the rows or columns from a DataFrame in Jupyter QTConcole</h3>
<p>if the df has a lot of rows or columns, then when you try to show the df, pandas will auto detect the size of the displaying area and automatically hide some part of the data by replacing with <code>...</code>. To show the full data without any hiding, you can use <code>pd.set_option('display.max_rows', 500)</code> and <code>pd.set_option('display.max_rows', 500)</code> to change the max number of rows or max number of columns to display.</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">df</span>
</pre></div>


<p><img alt="png" src="/figures/20170402_01.PNG" /></p>
<div class="highlight"><pre><span class="c1"># set up display area to show dataframe in jupyter qtconsole</span>

<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.height&#39;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.width&#39;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>

<span class="n">df</span>
</pre></div>


<p><img alt="png" src="/figures/20170402_02.PNG" /></p>
<h3>2. display all text in a cell without truncation</h3>
<p>pandas will automatically truncate the long string to display by default. Taking the example below, the string_x is long so by default it will not display the full string. However the full text is wanted. <code>pd.set_option('display.max_colwidth', -1)</code> will help to show all the text strings in the column.</p>
<div class="highlight"><pre><span class="n">string_x</span> <span class="o">=</span> <span class="s2">&quot;if the df has a lot of rows or columns, then when you try to show the df, pandas will auto detect </span><span class="se">\</span>
<span class="s2">the size of the displaying area and automatically hide some part of the data by replacing with&quot;</span>

<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;string_x&#39;</span><span class="p">:</span> <span class="n">string_x</span><span class="p">},</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>


<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>string_x</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>if the df has a lot of rows or columns, then w...</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;string_x&#39;</span><span class="p">:</span> <span class="n">string_x</span><span class="p">},</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>


<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>string_x</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>if the df has a lot of rows or columns, then when you try to show the df, pandas will auto detect the size of the displaying area and automatically hide some part of the data by replacing with</td>
    </tr>
  </tbody>
</table>
</div>

<h3>3. display html in Jupyter</h3>
<p>If the dataframe is shown in html, then it is easier to copy the splited data to excel. Otherwise data copied to excel will be in one row. To display in html in jupyter, use <code>from IPython.display import display, HTML</code></p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>
<span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39; &lt;span style=&quot;color:red&quot;&gt;the title is: &lt;h1&gt;Hello, world!&lt;/h1&gt; &lt;/span&gt;  &#39;</span><span class="p">))</span>
</pre></div>


<p><span style="color:red">the title is: <h1>Hello, world!</h1> </span>  </p>
<h3>4. jupyter run magic command</h3>
<p>Jupyter has some magic command making your job easier. Some useful commands like <code>%lsmagic %env %ls %pwd %cd</code></p>
<div class="highlight"><pre><span class="o">%</span><span class="n">lsmagic</span>
</pre></div>


<div class="highlight"><pre><span class="n">Available</span> <span class="n">line</span> <span class="nl">magics</span><span class="p">:</span>
<span class="nf">%alias</span>  <span class="nf">%alias_magic</span>  <span class="nf">%autocall</span>  <span class="nf">%automagic</span>  <span class="nf">%autosave</span>  <span class="nf">%bookmark</span>  <span class="nf">%cat</span>  <span class="nf">%cd</span>  <span class="nf">%clear</span>  <span class="nf">%colors</span>  <span class="nf">%config</span>  <span class="nf">%connect_info</span>  <span class="nf">%cp</span>  <span class="nf">%debug</span>  <span class="nf">%dhist</span>  <span class="nf">%dirs</span>  <span class="nf">%doctest_mode</span>  <span class="nf">%ed</span>  <span class="nf">%edit</span>  <span class="nf">%env</span>  <span class="nf">%gui</span>  <span class="nf">%hist</span>  <span class="nf">%history</span>  <span class="nf">%killbgscripts</span>  <span class="nf">%ldir</span>  <span class="nf">%less</span>  <span class="nf">%lf</span>  <span class="nf">%lk</span>  <span class="nf">%ll</span>  <span class="nf">%load</span>  <span class="nf">%load_ext</span>  <span class="nf">%loadpy</span>  <span class="nf">%logoff</span>  <span class="nf">%logon</span>  <span class="nf">%logstart</span>  <span class="nf">%logstate</span>  <span class="nf">%logstop</span>  <span class="nf">%ls</span>  <span class="nf">%lsmagic</span>  <span class="nf">%lx</span>  <span class="nf">%macro</span>  <span class="nf">%magic</span>  <span class="nf">%man</span>  <span class="nf">%matplotlib</span>  <span class="nf">%mkdir</span>  <span class="nf">%more</span>  <span class="nf">%mv</span>  <span class="nf">%notebook</span>  <span class="nf">%page</span>  <span class="nf">%pastebin</span>  <span class="nf">%pdb</span>  <span class="nf">%pdef</span>  <span class="nf">%pdoc</span>  <span class="nf">%pfile</span>  <span class="nf">%pinfo</span>  <span class="nf">%pinfo2</span>  <span class="nf">%popd</span>  <span class="nf">%pprint</span>  <span class="nf">%precision</span>  <span class="nf">%profile</span>  <span class="nf">%prun</span>  <span class="nf">%psearch</span>  <span class="nf">%psource</span>  <span class="nf">%pushd</span>  <span class="nf">%pwd</span>  <span class="nf">%pycat</span>  <span class="nf">%pylab</span>  <span class="nf">%qtconsole</span>  <span class="nf">%quickref</span>  <span class="nf">%recall</span>  <span class="nf">%rehashx</span>  <span class="nf">%reload_ext</span>  <span class="nf">%rep</span>  <span class="nf">%rerun</span>  <span class="nf">%reset</span>  <span class="nf">%reset_selective</span>  <span class="nf">%rm</span>  <span class="nf">%rmdir</span>  <span class="nf">%run</span>  <span class="nf">%save</span>  <span class="nf">%sc</span>  <span class="nf">%set_env</span>  <span class="nf">%store</span>  <span class="nf">%sx</span>  <span class="nf">%system</span>  <span class="nf">%tb</span>  <span class="nf">%time</span>  <span class="nf">%timeit</span>  <span class="nf">%unalias</span>  <span class="nf">%unload_ext</span>  <span class="nf">%who</span>  <span class="nf">%who_ls</span>  <span class="nf">%whos</span>  <span class="nf">%xdel</span>  <span class="nf">%xmode</span>

<span class="n">Available</span> <span class="n">cell</span> <span class="nl">magics</span><span class="p">:</span>
<span class="o">%%!</span>  <span class="o">%%</span><span class="n">HTML</span>  <span class="o">%%</span><span class="n">SVG</span>  <span class="o">%</span><span class="nf">%bash</span>  <span class="o">%</span><span class="nf">%capture</span>  <span class="o">%</span><span class="nf">%debug</span>  <span class="o">%</span><span class="nf">%file</span>  <span class="o">%</span><span class="nf">%html</span>  <span class="o">%</span><span class="nf">%javascript</span>  <span class="o">%</span><span class="nf">%js</span>  <span class="o">%</span><span class="nf">%latex</span>  <span class="o">%</span><span class="nf">%perl</span>  <span class="o">%</span><span class="nf">%prun</span>  <span class="o">%</span><span class="nf">%pypy</span>  <span class="o">%</span><span class="nf">%python</span>  <span class="o">%</span><span class="nf">%python2</span>  <span class="o">%</span><span class="nf">%python3</span>  <span class="o">%</span><span class="nf">%ruby</span>  <span class="o">%</span><span class="nf">%script</span>  <span class="o">%</span><span class="nf">%sh</span>  <span class="o">%</span><span class="nf">%svg</span>  <span class="o">%</span><span class="nf">%sx</span>  <span class="o">%</span><span class="nf">%system</span>  <span class="o">%</span><span class="nf">%time</span>  <span class="o">%</span><span class="nf">%timeit</span>  <span class="o">%</span><span class="nf">%writefile</span>

<span class="n">Automagic</span> <span class="n">is</span> <span class="n">ON</span><span class="p">,</span> <span class="o">%</span> <span class="n">prefix</span> <span class="n">IS</span> <span class="n">NOT</span> <span class="n">needed</span> <span class="k">for</span> <span class="n">line</span> <span class="n">magics</span><span class="p">.</span>
</pre></div>


<h3>5. run shell command</h3>
<p>jupyter also provides the facility to run linux shell command in the way <code>!shall_command</code>. </p>
<div class="highlight"><pre><span class="err">!</span> <span class="n">ls</span>
</pre></div>


<div class="highlight"><pre>20160625_deploy_flask_on_heroku.txt
20170318_pandas_multiple_agg_summary.ipynb
20170402_dl_notes.ipynb
20170402_jupyter_pandas_display.ipynb
build_by_pelican.md
figures
</pre></div>


<h3>6. list function definiton</h3>
<p><code>??</code> gives the facility to check the difinicion of a function. </p>
<div class="highlight"><pre><span class="err">??</span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span>
</pre></div>


<h3>7. download the server files</h3>
<p><code>FileLink</code> will return a link to the file on your remote server in your browser. You can then click on it to download the file.</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">FileLink</span>
<span class="n">FileLink</span><span class="p">(</span><span class="s1">&#39;build_by_pelican.md&#39;</span><span class="p">)</span>
</pre></div>


<p><a href='build_by_pelican.md' target='_blank'>build_by_pelican.md</a><br></p>
<h2>Reference</h2>
<ol>
<li>
<p><a href="http://stackoverflow.com/questions/11707586/python-pandas-how-to-widen-output-display-to-see-more-columns">Python pandas, how to widen output display to see more columns?</a></p>
</li>
<li>
<p><a href="https://blog.dominodatalab.com/lesser-known-ways-of-using-notebooks/">Advanced Jupyter Notebook Tricks — Part I</a></p>
</li>
<li>
<p><a href="https://blog.dominodatalab.com/interactive-dashboards-in-jupyter/">Advanced Jupyter Notebook Tricks — Part II</a></p>
</li>
<li>
<p><a href="http://pynash.org/2013/03/06/timing-and-profiling/">Timing and Profiling in IPython</a></p>
</li>
</ol></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">
        <a href="/author/huiming-song.html">Huiming Song</a>
    </span>
  </span>
<time datetime="2017-04-02T00:00:00-05:00" pubdate>Sun 02 April 2017</time>  <span class="categories">
    <a class='category' href='/category/python.html'>Python</a>
  </span>
  <span class="categories">
    <a class="category" href="/tag/python.html">python</a>,    <a class="category" href="/tag/pandas.html">pandas</a>  </span>
</p><div class="sharing">
</div>    </footer>
  </article>

</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="/pages/2017/10/08/an-interesting-random-walk-question-and-simulation-02/">An interesting random walk question and simulation 02</a>
      </li>
      <li class="post">
          <a href="/pages/2017/09/30/an-interesting-question-and-simulation-01/">An interesting question and simulation 01</a>
      </li>
      <li class="post">
          <a href="/pages/2017/09/23/data-engineering-and-modeling-01-predict-defaults-with-inbalanced-data/">Data Engineering and Modeling 01: predict defaults with inbalanced data</a>
      </li>
      <li class="post">
          <a href="/pages/2017/09/10/numpy-introduction-03/">Numpy Introduction 03</a>
      </li>
      <li class="post">
          <a href="/pages/2017/08/20/build-recurrent-neural-network-from-scratch/">Build Recurrent Neural Network from Scratch</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="/category/linux.html">Linux</a></li>
        <li><a href="/category/python.html">Python</a></li>
        <li><a href="/category/rthers.html">Rthers</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="/tag/pelican.html">pelican</a>,    <a href="/tag/apply_async.html">apply_async</a>,    <a href="/tag/linux.html">linux</a>,    <a href="/tag/deep-learning.html">deep learning</a>,    <a href="/tag/data-visualization.html">data visualization</a>,    <a href="/tag/mysql.html">mysql</a>,    <a href="/tag/apply.html">apply</a>,    <a href="/tag/flask.html">flask</a>,    <a href="/tag/pyqt.html">PyQt</a>,    <a href="/tag/re.html">re</a>,    <a href="/tag/bokeh.html">bokeh</a>,    <a href="/tag/quant.html">quant</a>,    <a href="/tag/remote-access.html">remote access</a>,    <a href="/tag/tensorflow.html">tensorflow</a>,    <a href="/tag/numpy.html">numpy</a>,    <a href="/tag/pandas.html">pandas</a>,    <a href="/tag/tweepy.html">tweepy</a>,    <a href="/tag/map.html">map</a>,    <a href="/tag/shiny.html">shiny</a>,    <a href="/tag/random-walk.html">random walk</a>,    <a href="/tag/python.html">python</a>,    <a href="/tag/matplotlib.html">matplotlib</a>,    <a href="/tag/base.html">base</a>,    <a href="/tag/sentiment-analysis.html">sentiment analysis</a>,    <a href="/tag/sql.html">sql</a>,    <a href="/tag/data-minging.html">data minging</a>,    <a href="/tag/tkinter.html">tkinter</a>,    <a href="/tag/data-mining.html">data mining</a>,    <a href="/tag/spyre.html">spyre</a>,    <a href="/tag/r.html">R</a>,    <a href="/tag/statsmodels.html">statsmodels</a>,    <a href="/tag/docker.html">docker</a>,    <a href="/tag/cx_freeze.html">cx_freeze</a>,    <a href="/tag/multiprocessing.html">multiprocessing</a>,    <a href="/tag/sklearn.html">sklearn</a>  </section>


    <section>
        <h1>Social</h1>
        <ul>
            <li><a href="https://www.linkedin.com/pub/huiming-song/24/735/349" target="_blank">Linkedin</a></li>
        </ul>
    </section>
    <section>
        <h1>Blogroll</h1>
        <ul>
            <li><a href="http://easysas.blogspot.com/" target="_blank">my old SAS blog</a></li>
        </ul>
    </section>

</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2015&ndash;2017  shm &mdash;
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
  <script src="/theme/js/modernizr-2.0.js"></script>
  <script src="/theme/js/ender.js"></script>
  <script src="/theme/js/octopress.js" type="text/javascript"></script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-65938411-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-65938411-1');
    ga('send', 'pageview');
</script>
  <script type="text/javascript">
    var disqus_shortname = 'songhuiming';
    var disqus_identifier = '/pages/2017/04/02/jupyter-and-pandas-display/';
    var disqus_url = '/pages/2017/04/02/jupyter-and-pandas-display/';
    var disqus_title = 'jupyter and pandas display';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = "//" + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
  </script>
</body>
</html>