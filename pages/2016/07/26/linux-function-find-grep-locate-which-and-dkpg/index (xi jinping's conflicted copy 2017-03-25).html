<!DOCTYPE html>
<html lang="en">
<head>
          <title>pydata</title>
        <meta charset="utf-8" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="pydata Full Atom Feed" />
        <link href="/feeds/linux.atom.xml" type="application/atom+xml" rel="alternate" title="pydata Categories Atom Feed" />



    <meta name="tags" content="python" />
    <meta name="tags" content="linux" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">pydata <strong>Keep Looking, Don't Settle</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/functions/archives.html">Archives</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/pages/2016/07/26/linux-function-find-grep-locate-which-and-dkpg/" rel="bookmark"
         title="Permalink to linux function find, grep, locate, which and dkpg">linux function find, grep, locate, which and dkpg</a></h2>
 
  </header>
  <footer class="post-info">
    <abbr class="published" title="2016-07-26T00:00:00-05:00">
      Tue 26 July 2016
    </abbr>
    <abbr class="modified" title="2016-07-26T00:00:00-05:00">
      Tue 26 July 2016
    </abbr>
    <address class="vcard author">
      By           <a class="url fn" href="/author/huiming-song.html">Huiming Song</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>The question comes from an issue I got: I have installed MySQLdb but when I try to <code>import MySQLdb</code>,
it fails with error message that <code>MySQLdb</code> cannot be found. The steps to check:</p>
<ol>
<li>make sure the package is installed</li>
<li>check where it is installed</li>
<li>add the path to <code>PYTHONPATH</code></li>
</ol>
<p>Then import it again, it works.</p>
<p>All these will be very easy if you are familiar with linux commands. It will be very convenitent and helpful in job if you master some linux functions. This blog is to list the useful function and its usage</p>
<h2>1. <code>find</code> function and its usage</h2>
<div class="highlight"><pre><span class="c1"># search multiple dirs</span>
find /opt /usr /var -name foo.scala -type f     

<span class="c1"># fina all cache, xml and html files</span>
find . -type f <span class="se">\(</span> -name <span class="s2">&quot;*cache&quot;</span> -o -name <span class="s2">&quot;*xml&quot;</span> -o -name <span class="s2">&quot;*html&quot;</span> <span class="se">\)</span>   

<span class="c1"># find and search, ignore case with -i option</span>
find . -type f -name <span class="s2">&quot;*.java&quot;</span> -exec grep -il string <span class="o">{}</span> <span class="se">\;</span>

<span class="c1"># find and copy, cp *.mp3 files to /tmp/MusicFiles</span>
find . -type f -name <span class="s2">&quot;*.mp3&quot;</span> -exec cp <span class="o">{}</span> /tmp/MusicFiles <span class="se">\;</span>     

<span class="c1"># list user and corresponding disk usage</span>
find /data01/saswork -printf <span class="s2">&quot;%u  %s\n&quot;</span> <span class="p">|</span> awk <span class="s1">&#39;{user[$1]+=$2}; END{ for( i in user) print i &quot; &quot; user[i]}&#39;</span>   

<span class="c1"># how to list all my files, and size &gt; than a limit, in the given directory</span>
<span class="k">for</span> r in <span class="k">$(</span>find /data01/ -type f -user hsong<span class="p">|</span> grep <span class="s2">&quot;^\/data01&quot;</span><span class="k">)</span><span class="p">;</span> <span class="k">do</span> ls -la $r<span class="p">;</span><span class="k">done</span><span class="p">|</span>cut -d <span class="s2">&quot; &quot;</span> -f 3,5,10
<span class="k">for</span> r in <span class="k">$(</span>find /data02/temp/temp_sasprod/ -type f -user hsong<span class="p">|</span> grep <span class="s2">&quot;^\/data02&quot;</span><span class="k">)</span><span class="p">;</span> <span class="k">do</span> ls -la $r<span class="p">;</span><span class="k">done</span><span class="p">|</span>cut -d <span class="s2">&quot; &quot;</span> -f 3,5,10
<span class="k">for</span> r in <span class="k">$(</span>find /data02/temp/temp_sasprod/ -type f -size +500k -user hsong<span class="p">|</span> grep <span class="s2">&quot;^\/data02&quot;</span><span class="k">)</span><span class="p">;</span> <span class="k">do</span> ls -lSR $r<span class="p">;</span><span class="k">done</span> <span class="p">|</span> less
</pre></div>


<h2>2. <code>locate</code> to find where the function is</h2>
<div class="highlight"><pre>locate python
</pre></div>


<h2>3. <code>dpkg</code> to check packages installed or not, and the path</h2>
<ul>
<li><code>dpkg -L PackageName</code> to find where the package is</li>
</ul>
<div class="highlight"><pre>dpkg â€“L MySQLdb
</pre></div>


<ul>
<li>check if the package is installed or not</li>
</ul>
<div class="highlight"><pre>dpkg --get-selections | grep mysql
</pre></div>


<h3>Reference</h3>
<ol>
<li><a href="http://alvinalexander.com/unix/edu/examples/find.shtml">A collection of Unix/Linux find command examples</a></li>
</ol>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>